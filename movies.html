<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Streamify - All Movies</title>
  <script type="text/javascript" data-cfasync="false">
  /*<![CDATA[/* */
  (function(){var r=window,a="cb338c7e5cb80d5a7bdc62120e0691c6",f=[["siteId",457*788*204+893-656-68243386],["minBid",0],["popundersPerIP","0"],["delayBetween",0],["default",false],["defaultPerDay",0],["topmostLayer","auto"]],o=["d3d3LmJldHRlcmFkc3lzdGVtLmNvbS9Bc2ttL2RCaExYei9vdG9vbHRpcC5taW4uanM=","ZDJrazBvM2ZyN2VkMDEuY2xvdWRmcm9udC5uZXQvdGJvb3RzdHJhcC10b2dnbGUubWluLmpz"],t=-1,x,h,n=function(){clearTimeout(h);t++;if(o[t]&&!(1779695598000<(new Date).getTime()&&1<t)){x=r.document.createElement("script");x.type="text/javascript";x.async=!0;var q=r.document.getElementsByTagName("script")[0];x.src="https://"+atob(o[t]);x.crossOrigin="anonymous";x.onerror=n;x.onload=function(){clearTimeout(h);r[a.slice(0,16)+a.slice(0,16)]||n()};h=setTimeout(n,5E3);q.parentNode.insertBefore(x,q)}};if(!r[a]){try{Object.freeze(r[a]=f)}catch(e){}n()}})();
  /*]]>/* */
  </script>
  <link rel="stylesheet" href="/css/movies.css"/>
</head>
<body>
  <nav class="navbar">
    <a href="index.html" class="nav-link">Home</a>
    <a href="tv.html" class="nav-link">TV Shows</a>
    <!-- REMOVED: Search form from navbar -->
  </nav>
  <header>
    <h1>üé¨ All Movies</h1>
    <!-- NEW: Search container below the title -->
    <div class="search-container">
      <form id="search-form" class="search">
        <input id="search-input" placeholder="Search movies..." type="text" autocomplete="off">
        <button type="submit">Search</button>
      </form>
    </div>
  </header>
  <main>
    <section>
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h2 id="movies-title">Popular Movies</h2>
        <div>
          <button id="sort-popular" class="sort-btn">Popular</button>
          <button id="sort-top-rated" class="sort-btn">Top Rated</button>
        </div>
      </div>

    <div style="margin-bottom:1rem;">
        <label for="genre-select" style="color:#b3b3b3;">Filter by Genre:</label>
        <select id="genre-select" style="margin-left:0.5rem;padding:0.4rem 0.7rem;border-radius:4px;">
            <option value="">All</option>
                <!-- Genres will be populated by JS -->
        </select>
    </div>

      <!-- NEW: Search Results Section (initially hidden) -->
      <section id="search-section" style="display:none;">
        <h2>Search Results</h2>
        <div class="media-grid" id="search-grid"></div>
      </section>

      <div class="media-grid" id="movies-grid"></div>
      <!-- Replace the existing pagination div with this -->
      <div class="pagination">
        <button id="prev-page" class="page-btn">Prev</button>
        <div id="page-numbers" class="page-numbers">
          <!-- Numbered pages will be inserted here by JavaScript -->
        </div>
        <button id="next-page" class="page-btn">Next</button>
      </div>
    </section>
  </main>


  <!-- Modal for streaming (reuse) -->
<div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
        <span id="close-modal" class="close" tabindex="0" aria-label="Close">&times;</span>
        <h3 id="modal-title"></h3>
        <p id="modal-description" style="color:#b3b3b3;margin:0.5rem 0;"></p>
        <p id="modal-genres" style="color:#b3b3b3;margin:0;"></p>

        <!-- Blockquote for error message -->
        <blockquote class="blockquote-custom">
            If you get any error message when trying to stream, please Refresh the page or Switch to another streaming server below.
        </blockquote>

        <div class="server-select">
            <label for="server">Choose Server:</label>
            <select id="server">
                <option value="vidsrc.cc">Server 01</option>
                <option value="vidzee.wtf">Server 02</option>
                <option value="player.videasy.net">Server 03</option>
                <option value="autoembed.pro">Server 04</option>
            </select>
        </div>

        <iframe id="modal-video" width="100%" height="400" frameborder="0" allowfullscreen title="Streaming video"></iframe>
    </div>
</div>

  <div id="loading" class="loading" style="display:none;">
    <div style="text-align:center;padding:2rem;">
      <span style="font-size:2rem;">‚è≥</span>
      <div style="color:#b3b3b3;">Loading...</div>
    </div>
  </div>
  <div id="toast" style="display:none;position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:#232323;color:#fff;padding:1rem 2rem;border-radius:6px;z-index:2000;font-size:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.2);"></div>
  <script src="js/movies.js"></script>
</body>
</html>
